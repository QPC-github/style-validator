javascript:"use strict";var STYLEV=STYLEV||{};STYLEV.isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.userAgent.toLowerCase().indexOf("opr")<0,STYLEV.isChromeExtension=function(){try{return chrome.runtime.onMessage.addListener(function(){}),!0}catch(e){return!1}}(),STYLEV.isBookmarklet=STYLEV.isChrome?!STYLEV.isChromeExtension:!0,STYLEV.isReExecution=void 0!==STYLEV.VALIDATOR,STYLEV.isFisrtExecution=!STYLEV.isReExecution,STYLEV.isValidated=!1,STYLEV.options={ENABLE_MUTATION_OBSERVER:!0,ENABLE_AUTO_EXECUTION:!1,ENABLE_ANIMATION:!1,TARGET_SELECTOR:!1,TARGET_SELECTOR_TEXT:"",NOT_TARGET_SELECTOR:!1,NOT_TARGET_SELECTOR_TEXT:""},STYLEV.affectedElemsStylevId=STYLEV.affectedElemsStylevId||[],STYLEV.ignoreElemsStylevId=STYLEV.ignoreElemsStylevId||[],STYLEV.sameElemCount=STYLEV.sameElemCount||0,STYLEV.consoleWrapperHeight=STYLEV.consoleWrapperHeight||0,STYLEV.consoleScrollTop=STYLEV.consoleScrollTop||0,STYLEV.selectedLineInConsole=STYLEV.selectedLineInConsole||null,STYLEV.VALIDATOR={execute:function(e){var t=this;t.setParameters(),Promise.all([t.getURL(t.settings.RULES_PATH).then(JSON.parse),t.getURL(t.settings.RULES_BY_EMPTY_TAG_PATH).then(JSON.parse),t.getURL(t.settings.TAGS_ALL_PATH).then(JSON.parse),t.getURL(t.settings.EMPTY_TAGS_PATH).then(JSON.parse),t.getURL(t.settings.TAGS_RESIZABLE_INLINE_ELEMENT_PATH).then(JSON.parse),t.getURL(t.settings.TAGS_TABLE_CHILDREN_PATH).then(JSON.parse),t.getURL(t.settings.DISPLAY_PROP_CHANGEABLE_PROPERTIES_PATH).then(JSON.parse)]).then(function(o){t.rulesData=o[0],t.emptyElemRulesData=o[1],t.tagsAllData=o[2],t.tagsEmptyData=o[3],t.tagsResizableInlineElementData=o[4],t.tagsTableChildren=o[5],t.displayPropChangeableProperties=o[6],t.updateOptions().then(function(){t.validate(e)})})},setParameters:function(){var e=this;e.html=document.querySelector("html"),e.head=document.querySelector("head"),e.body=document.querySelector("body"),e.htmlDefaultBorderBottomWidth=""===e.html.style.borderBottomWidth?null:e.html.style.borderBottomWidth,e.RESOURCE_ROOT=STYLEV.chromeExtension.RESOURCE_ROOT||"https://igari.github.io/Style-Validator/",e.settings={CONSOLE_WRAPPER_ID:"stylev-console-wrapper",CONSOLE_LIST_ID:"stylev-console-list",CONSOLE_HEADING_TEXT:"Style Validator",CONSOLE_HEADER_DEFAULT_HEIGHT:200,STYLESHEET_ID:"stylev-stylesheet",STYLESHEET_PATH:e.RESOURCE_ROOT+"app/style-validator.css",CONGRATULATION_MESSAGE_TEXT:"It's Perfect!",SERVER_RESOURCE_ROOT:"https://igari.github.io/Style-Validator/",RULES_PATH:e.RESOURCE_ROOT+"data/rules.json",RULES_BY_EMPTY_TAG_PATH:e.RESOURCE_ROOT+"data/rules-by-empty-tags.json",TAGS_ALL_PATH:e.RESOURCE_ROOT+"data/tags-all.json",EMPTY_TAGS_PATH:e.RESOURCE_ROOT+"data/tags-empty.json",TAGS_RESIZABLE_INLINE_ELEMENT_PATH:e.RESOURCE_ROOT+"data/tags-resizable-inline-element.json",TAGS_TABLE_CHILDREN_PATH:e.RESOURCE_ROOT+"data/tags-table-children.json",DISPLAY_PROP_CHANGEABLE_PROPERTIES_PATH:e.RESOURCE_ROOT+"data/displayPropChangeableProperties.json",CONNECTED_2_DEVTOOLS_MESSAGE:"Connected to DevTools",DISCONNECTED_2_DEVTOOLS_MESSAGE:"Disconnected to DevTools",CONNECTED_2_DEVTOOLS_CLASS:"stylev-console-mode-devtools",DISCONNECTED_2_DEVTOOLS_CLASS:"stylev-console-mode-no-devtools"}},getURL:function(e){return new Promise(function(t,o){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){200===r.status?t(r.responseText):o(new Error(r.statusText))},r.onerror=function(){o(new Error(r.statusText))},r.send()})},validate:function(e){console.info("Validator Started");var t=this;t.initializeBeforeValidation();for(var o=0;o<t.allElemLength;o++){var r={};r.targetElem=t.allElem[o],r.targetElemTagName=r.targetElem.tagName.toLowerCase();var s=t.regexAllHTMLTag.test(" "+r.targetElemTagName+" ");if(s&&"style"!==r.targetElemTagName){r.targetElem.dataset.stylevid="stylev-"+o,r.targetElemStyles=getComputedStyle(r.targetElem,""),r.targetParentElem=r.targetElem.parentElement,r.targetParentElem&&(r.targetElemParentStyles=getComputedStyle(r.targetParentElem,""),r.targetElemParentDisplayProp=r.targetElemParentStyles.getPropertyValue("display")),r.targetElemDefaultStyles=r.targetElemDefaultStyles||getComputedStyle(t.iframeDocument.querySelector(r.targetElemTagName),""),r.targetElemDisplayProp=r.targetElemStyles.getPropertyValue("display"),r.targetElemDefaultDisplayProp=r.targetElemDefaultStyles.getPropertyValue("display");var a=t.regexEmptyElem.test(" "+r.targetElemTagName+" "),n=t.regexTableChildElem.test(" "+r.targetElemTagName+" "),l=("inline"===r.targetElemDisplayProp,"inline-block"===r.targetElemDisplayProp,t.regexResizableInlineElem.test(" "+r.targetElemTagName+" "));l&&(r.targetElemDisplayProp="inline-block");for(var i=0,d=t.rulesData.length;d>i;i++){var c=!0,E=t.rulesData[i],m=E["base-styles"],g=E["error-styles"],p=E["warning-styles"],y=E["parent-error-styles"],h=E["parent-warning-styles"];E["reference-url"],E.message;for(var u in m)if(m.hasOwnProperty(u)){var v=m[u],T=getComputedStyle(r.targetElem,"").getPropertyValue(u);"display"===u&&l&&(T="inline-block");var S=v===T;if(!S){c=!1;break}}if(c){for(var f in g)if(g.hasOwnProperty(f))if(f instanceof Array)for(var o=0,d=f.length;d>o;o++)t.detectErrorAndWarn("error",f[o],g,r,!1,!1);else t.detectErrorAndWarn("error",f,g,r,!1,!1);for(var L in p)if(p.hasOwnProperty(L))if(L instanceof Array)for(var o=0,d=L.length;d>o;o++)t.detectErrorAndWarn("warning",L[o],p,r,!1,!1);else t.detectErrorAndWarn("warning",L,p,r,!1,!1);if("html"!==r.targetElemTagName){for(var C in h)if(h.hasOwnProperty(C))if(C instanceof Array)for(var o=0,d=C.length;d>o;o++)t.detectErrorAndWarn("warning",C[o],h,r,!1,!0);else t.detectErrorAndWarn("warning",C,h,r,!1,!0);for(var O in y)if(y.hasOwnProperty(O))if(O instanceof Array)for(var o=0,d=O.length;d>o;o++)t.detectErrorAndWarn("error",O[o],y,r,!1,!0);else t.detectErrorAndWarn("error",O,y,r,!1,!0)}if("block"!==r.targetElemDefaultDisplayProp&&"list-item"!==r.targetElemDefaultDisplayProp&&"table"!==r.targetElemDefaultDisplayProp)for(var A in t.changeDisplayPropRules)if(t.changeDisplayPropRules.hasOwnProperty(A))if(A instanceof Array)for(var o=0,d=A.length;d>o;o++)r.isDisplayPropChanged=!0,n?t.detectErrorAndWarn("error",A[o],t.changeDisplayPropRules,r,!1,!1):t.detectErrorAndWarn("warning",A[o],t.changeDisplayPropRules,r,!1,!1);else r.isDisplayPropChanged=!0,n?t.detectErrorAndWarn("error",A,t.changeDisplayPropRules,r,!1,!1):t.detectErrorAndWarn("warning",A,t.changeDisplayPropRules,r,!1,!1);if(a){for(var R in t.emptyElemRulesData["warning-styles"])t.emptyElemRulesData["warning-styles"].hasOwnProperty(R)&&t.detectErrorAndWarn("warning",R,t.emptyElemRulesData["warning-styles"],r,!0,!1);for(var D in t.emptyElemRulesData["error-styles"])t.emptyElemRulesData["error-styles"].hasOwnProperty(D)&&t.detectErrorAndWarn("error",D,t.emptyElemRulesData["error-styles"],r,!0,!1);for(var V in t.emptyElemRulesData["pseudo-elements-warning-styles"])t.emptyElemRulesData["pseudo-elements-warning-styles"].hasOwnProperty(V)&&t.detectErrorAndWarn("warning",V,t.emptyElemRulesData["warning-styles"],r,!0,!1);for(var w in t.emptyElemRulesData["pseudo-elements-error-styles"])t.emptyElemRulesData["pseudo-elements-error-styles"].hasOwnProperty(w)&&t.detectErrorAndWarn("error",w,t.emptyElemRulesData["error-styles"],r,!0,!1)}}}}}t.removeIframe4getDefaultStyles(),t.showConsole(),t.toggleSelected(),"function"==typeof e&&e.bind(t)(),t.ovservationManager=t.connectObserve()},updateOptions:function(){return new Promise(function(e,t){STYLEV.isChromeExtension?chrome.storage.sync.get("options",function(t){void 0!==t.options&&(STYLEV.options={ENABLE_MUTATION_OBSERVER:t.options.enabledMutationObserver,ENABLE_AUTO_EXECUTION:t.options.enableAutoExecution,ENABLE_ANIMATION:t.options.enableAnimation,TARGET_SELECTOR:t.options.targetSelector,TARGET_SELECTOR_TEXT:t.options.targetSelectorText?t.options.targetSelectorText.split(","):"",NOT_TARGET_SELECTOR:t.options.notTargetSelector,NOT_TARGET_SELECTOR_TEXT:t.options.notTargetSelectorText?t.options.notTargetSelectorText.split(","):""}),e()}):e()})},initializeBeforeValidation:function(){var e=this;e.setStyleDataOfWidthHeight(document),e.setStyleDataOfWidthHeight(e.iframeDocument),e.regexEmptyElem=new RegExp("^( "+e.tagsEmptyData.join(" | ")+" )"),e.regexResizableInlineElem=new RegExp("^( "+e.tagsResizableInlineElementData.join(" | ")+" )"),e.regexTableChildElem=new RegExp("^( "+e.tagsTableChildren.join(" | ")+" )"),STYLEV.isReExecution&&e.isObserving&&e.ovservationManager.disconnectObserve(),e.removeConsole(),e.removeAllAttrAndEvents(),e.allElem=document.querySelectorAll("*"),e.allElemLength=e.allElem.length,e.messageArray=[],e.errorNum=0,e.warningNum=0,e.insertIframe4getDefaultStyles.bind(e)(),e.regexAllHTMLTag=new RegExp(" "+e.tagsAllData.join(" | ")+" ")},detectErrorAndWarn:function(e,t,o,r,s,a){var n,l=this,i={},d=o[t],c=r.targetElemDefaultStyles.getPropertyValue(t),E=l.calculatePropertyValue(r.targetElem,t),m=!1;if(d instanceof Array?("__except__"===d[0]&&(m=!0),n=new RegExp(" "+d.join(" | ")+" ")):n=new RegExp(" "+d+" "),r.targetParentElem){var g=r.targetElemParentStyles.getPropertyValue(t);if("line-height"===t){var p=parseFloat(r.targetElemStyles.getPropertyValue("font-size")),y=parseFloat(r.targetElemParentStyles.getPropertyValue("font-size")),h=y/p,u=1.14;E="normal"===E?p*u+"px":E,g="normal"===g?l.controlFloat(y*u,1)+"px":g}}(d===E||"over-0"===d&&parseInt(E,10)>0||"!default"===d&&E!==c||"!inherit"===d&&"line-height"===t&&l.controlFloat(parseFloat(E)*h,1)!==l.controlFloat(parseFloat(g),1)||"!inherit"===d&&"line-height"!==t&&E!==g||!m&&a&&n.test(" "+r.targetElemParentDisplayProp+" ")||m&&a&&!n.test(" "+r.targetElemParentDisplayProp+" "))&&(a?i.text=(s?"Empty Elements ":"")+"<"+r.targetElemTagName+"> display: "+r.targetElemDisplayProp+"; display property of parent element is incorrect.("+r.targetElemParentDisplayProp+")":i.text=(s?"Empty Elements ":"")+"<"+r.targetElemTagName+"> display: "+r.targetElemDisplayProp+"; "+t+": "+E+";"+(r.isDisplayPropChanged?"(Display Property has changed.)":""),i.idName=r.targetElem.dataset.stylevid,i.type=e,l.messageArray.push(i),"error"===e&&STYLEV.methods.addClass(r.targetElem,"stylev-target-error"),"warning"===e&&STYLEV.methods.addClass(r.targetElem,"stylev-target-warning"))},ovservationManager:null,connectObserve:function(){var e=this,t=["style","class"],o=1e3;if(!STYLEV.options.ENABLE_MUTATION_OBSERVER)return e.isObserving&&e.ovservationManager.disconnectObserve(),!1;e.observer=new MutationObserver(function(t){void 0!==e.observationTimer&&clearTimeout(e.observationTimer),e.observationTimer=setTimeout(function(){for(var o=[],r=!1,s=0,a=t.length;a>s;s++){var n=t[s],l=new RegExp(" "+STYLEV.ignoreElemsStylevId.join(" | ")+" ");if(l.test(" "+n.target.dataset.stylevid+" "))r=!0;else{if(STYLEV.affectedElemsStylevId.length&&(n.target.dataset.stylevid===STYLEV.affectedElemsStylevId[STYLEV.affectedElemsStylevId.length-1]?STYLEV.sameElemCount++:STYLEV.sameElemCount=0),STYLEV.sameElemCount<5?STYLEV.affectedElemsStylevId.push(n.target.dataset.stylevid):(STYLEV.affectedElemsStylevId=[],STYLEV.sameElemCount=0,STYLEV.ignoreElemsStylevId.push(n.target.dataset.stylevid)),n.target.tagName){for(var i,d=[],s=0,c=n.target.attributes,E=c.length;E>s;s++)i=c[s],0===s?d.push(" "+i.nodeName+'="'+i.nodeValue+'"'):d.push(i.nodeName+'="'+i.nodeValue+'"');o.push(n.target.dataset.stylevid+": <"+n.target.tagName.toLowerCase()+d.join(" ")+">")}if("attributes"===n.type&&o.push(n.attributeName+" "+n.type+' of above is changed from "'+n.oldValue+'".'),"characterData"===n.type&&o.push(n.characterData+" "+n.type+' of above is changed from "'+n.oldValue+'".'),n.addedNodes.length)for(var s=0,a=n.addedNodes.length;a>s;s++)o.push(n.addedNodes[s].outerHTML+" is added.");if(n.removedNodes.length)for(var s=0,a=n.removedNodes.length;a>s;s++)o.push(n.removedNodes[s].outerHTML+" is removed.");console.info(o.join("\n\n"))}}r||(STYLEV.isChromeExtension?STYLEV.chromeExtension.execute():e.validate())},o)});var r={attributes:!0,attributeFilter:t,childList:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};return e.observer.observe(document.querySelector("body"),r),e.observer.observe(document.querySelector("head"),r),console.info("Observer Connected"),e.isObserving=!0,{disconnectObserve:function(){e.observer.disconnect(),e.isObserving=!1,console.info("Observer Disconnected")}}},insertStylesheet:function(){var e=this;return STYLEV.isUsingExtension?!1:(e.linkTag=document.createElement("link"),e.linkTag.id=e.settings.STYLESHEET_ID,e.linkTag.rel="stylesheet",e.linkTag.type="text/css",e.linkTag.href=e.settings.STYLESHEET_PATH,e.head.appendChild(e.linkTag),!1)},removeStylesheet:function(){var e=this,t=document.querySelector("#stylev-stylesheet");null!==t&&e.head.removeChild(e.linkTag)},removeConsole:function(){var e=this,t=document.querySelector("html"),o=document.querySelector("#stylev-console-wrapper");if(null!==o){t.removeChild(o);for(var r=o.shadowRoot.querySelectorAll("a"),s=0,a=r.length;a>s;s++){var n=r[s];n.removeEventListener("click")}t.style["border-bottom-width"]=e.htmlDefaultBorderBottomWidth}},insertIframe4getDefaultStyles:function(){var e=this,t=document.querySelector("#stylev-dummy-iframe");if(null===t){e.iframe4test=document.createElement("iframe"),e.iframe4test.id="stylev-dummy-iframe",e.html.appendChild(e.iframe4test),e.iframeWindow=e.iframe4test.contentWindow,e.iframeDocument=e.iframeWindow.document,e.iframeBody=e.iframeDocument.querySelector("body");for(var o=document.createDocumentFragment(),r=0,s=e.tagsAllData.length;s>r;r++)o.appendChild(document.createElement(e.tagsAllData[r]));e.iframeBody.appendChild(o)}},removeIframe4getDefaultStyles:function(){var e=this,t=document.querySelector("#stylev-dummy-iframe");null!==t&&e.html.removeChild(t)},removeAllAttrAndEvents:function(){for(var e=this,t=document.querySelectorAll("*"),o=document.querySelector("html"),r=0,s=t.length;s>r;r++)t[r].removeAttribute("data-stylevid"),t[r].removeAttribute("data-stylevclass"),t[r].removeEventListener("click",STYLEV.chromeExtension.bind2DevToolsInspect.inspectFromElements),t[r].removeEventListener("click",e.actionInBody);void 0!==o&&o.removeEventListener("keyup",e.destroyOnEsc)},showConsole:function(){var e=this;e.docFlag=document.createDocumentFragment(),e.consoleWrapper=document.createElement("div"),e.consoleWrapperShadowRoot=e.consoleWrapper.createShadowRoot(),STYLEV.isChromeExtension?e.consoleWrapperShadowRoot.innerHTML='<style>@import "'+STYLEV.chromeExtension.RESOURCE_ROOT+'app/style-validator-for-console.css";</style>':e.consoleWrapperShadowRoot.innerHTML='<style>@import "'+e.settings.SERVER_RESOURCE_ROOT+'app/style-validator-for-console.css";</style>',e.consoleHeader=document.createElement("header"),e.consoleHeading=document.createElement("h1"),e.consoleMode=document.createElement("p"),e.consoleTotalNum=document.createElement("div"),e.consoleBody=document.createElement("div"),e.consoleList=document.createElement("ul"),e.consoleCloseButton=document.createElement("a"),e.isMouseDownConsoleHeader=!1,e.consoleStartPosY=0,e.consoleCurrentPosY=0,e.consoleDiffPosY=0,e.consoleWrapper.id=e.settings.CONSOLE_WRAPPER_ID,e.consoleCloseButton.href="javascript: void(0);",e.consoleList.id=e.settings.CONSOLE_LIST_ID,e.consoleHeading.textContent=e.settings.CONSOLE_HEADING_TEXT,e.consoleTotalNum.textContent="Total: "+e.messageArray.length+" / Error: "+e.errorNum+" / warning: "+e.warningNum,e.createMessagesInConsole(),e.bindEvents4Console(),e.consoleHeader.appendChild(e.consoleHeading),e.consoleHeader.appendChild(e.consoleTotalNum),e.consoleHeader.appendChild(e.consoleMode),e.consoleHeader.appendChild(e.consoleCloseButton),e.consoleWrapperShadowRoot.appendChild(e.consoleHeader),e.consoleWrapperShadowRoot.appendChild(e.consoleBody),e.consoleList.appendChild(e.docFlag),e.consoleBody.appendChild(e.consoleList),e.html.appendChild(e.consoleWrapper),e.doAfterParsedConsole()},doAfterParsedConsole:function(){var e=this;setTimeout(function(){e.consoleWrapper.style.height=(STYLEV.consoleWrapperHeight||e.settings.CONSOLE_HEADER_DEFAULT_HEIGHT)+"px",e.consoleWrapperDefaultHeight=parseInt(e.consoleWrapper.offsetHeight,10),e.html.style.setProperty("border-bottom-width",e.consoleWrapperDefaultHeight+"px","important"),e.send2ChromeExtension(),e.restorePreviousCondition()},0)},send2ChromeExtension:function(){var e=this;STYLEV.isChromeExtension&&(chrome.runtime.sendMessage({setBadgeText:e.messageArray.length}),chrome.runtime.sendMessage({name:"switchMode"},function(t){void 0!==t.isConnected2Devtools&&(STYLEV.methods.addClass(e.consoleMode,t.isConnected2Devtools?e.settings.CONNECTED_2_DEVTOOLS_CLASS:e.settings.DISCONNECTED_2_DEVTOOLS_CLASS),e.consoleMode.textContent=t.isConnected2Devtools?e.settings.CONNECTED_2_DEVTOOLS_MESSAGE:e.settings.DISCONNECTED_2_DEVTOOLS_MESSAGE)}))},restorePreviousCondition:function(){var e=this;if(setTimeout(function(){e.consoleList.scrollTop=STYLEV.consoleScrollTop},0),e.consoleList.addEventListener("scroll",function(){STYLEV.consoleScrollTop=event.currentTarget.scrollTop}),"function"==typeof STYLEV.chromeExtension.bind2DevToolsInspect.inspectOfConsoleAPI&&STYLEV.chromeExtension.bind2DevToolsInspect.inspectOfConsoleAPI(),STYLEV.selectedLineInConsole)for(var t=e.consoleList.querySelectorAll("li"),o=0,r=t.length;r>o;o++)if(t[o].innerHTML===STYLEV.selectedLineInConsole.innerHTML){STYLEV.methods.addClass(t[o],"stylev-trigger-selected");break}},createMessagesInConsole:function(){var e=this;if(0===e.messageArray.length)e.congratulationsMessage=document.createElement("li"),e.congratulationsMessage.dataset.stylevclass="stylev-console-perfect",e.congratulationsMessage.textContent=e.settings.CONGRATULATION_MESSAGE_TEXT,e.docFlag.appendChild(e.congratulationsMessage);else for(var t=0,o=e.messageArray.length;o>t;t++){var r=document.createElement("li"),s=document.createElement("a"),a=document.createElement("span");s.href="javascript: void(0);",s.addEventListener("click",e.actionInConsole.bind(e,e.messageArray[t]),!1),s.textContent=e.messageArray[t].text,s.dataset.stylevconsoleid=e.messageArray[t].idName,a.textContent=e.messageArray[t].idName,STYLEV.methods.addClass(r,"stylev-trigger-"+e.messageArray[t].type),"error"===e.messageArray[t].type&&e.errorNum++,"warning"===e.messageArray[t].type&&e.warningNum++,s.appendChild(a),r.appendChild(s),e.docFlag.appendChild(r)}},bindEvents4Console:function(){var e=this;e.consoleHeader.addEventListener("mousedown",function(t){t.preventDefault(),e.isMouseDownConsoleHeader=!0,e.consoleStartPosY=t.pageY},!1),e.html.addEventListener("mousemove",function(t){e.isMouseDownConsoleHeader&&(e.consoleCurrentPosY=t.pageY,e.consoleDiffPosY=e.consoleStartPosY-e.consoleCurrentPosY,e.consoleWrapper.style.height=e.consoleWrapperDefaultHeight+e.consoleDiffPosY+"px",this.style.setProperty("border-bottom-width",e.consoleWrapperDefaultHeight+e.consoleDiffPosY+"px","important"))},!1),e.html.addEventListener("mouseup",function(){e.isMouseDownConsoleHeader=!1,e.consoleWrapperDefaultHeight=parseInt(e.consoleWrapper.offsetHeight,10),STYLEV.consoleWrapperHeight=e.consoleWrapperDefaultHeight},!1),e.consoleCloseButton.addEventListener("click",function(){e.destroy()},!1),e.html.addEventListener("keyup",e.destroyOnEsc,!1)},destroyOnEsc:function(){var e=STYLEV.VALIDATOR;27===event.keyCode&&e.destroy()},actionInConsole:function(e){for(var t=this,o=document.querySelector("#stylev-console-wrapper").shadowRoot,r=o.querySelectorAll("li"),s=0,a=r.length;a>s;s++)STYLEV.methods.removeClass(r[s],"stylev-trigger-selected");for(var n=o.querySelectorAll('[data-stylevconsoleid="'+event.currentTarget.dataset.stylevconsoleid+'"]'),s=0,a=n.length;a>s;s++){var l=n[s];STYLEV.methods.addClass(l.parentElement,"stylev-trigger-selected"),0===s&&(STYLEV.selectedLineInConsole=l.parentElement)}for(var i=0,a=t.allElem.length;a>i;i++)STYLEV.methods.removeClass(t.allElem[i],"stylev-target-selected");var d=document.querySelector('[data-stylevid="'+e.idName+'"]');STYLEV.methods.addClass(d,"stylev-target-selected"),STYLEV.methods.smoothScroll.execute(d)},toggleSelected:function(){var e=this;if(0===e.messageArray.length)return!1;e.consoleWrapper=document.querySelector("#stylev-console-wrapper"),e.consoleWrapperShadowRoot=e.consoleWrapper.shadowRoot,e.consoleTriggerWrapper=e.consoleWrapperShadowRoot.querySelector("ul"),e.consoleTriggers=e.consoleWrapperShadowRoot.querySelectorAll("li"),e.targets=document.querySelector("body").querySelectorAll('[data-stylevclass*="stylev-target-error"], [data-stylevclass*="stylev-target-warning"]');for(var t=0,o=e.targets.length;o>t;t++){var r=e.targets[t];r.addEventListener("click",e.actionInBody,!1)}return!1},actionInBody:function(){event.stopPropagation(),event.preventDefault();for(var e=STYLEV.VALIDATOR,t=document.querySelector("#stylev-console-wrapper").shadowRoot,o=0,r=e.consoleTriggers.length;r>o;o++)STYLEV.methods.removeClass(e.consoleTriggers[o],"stylev-trigger-selected");for(var s=t.querySelectorAll('[data-stylevconsoleid="'+event.currentTarget.dataset.stylevid+'"]'),o=0,r=s.length;r>o;o++){var a=s[o];STYLEV.methods.addClass(a.parentElement,"stylev-trigger-selected"),0===o&&(STYLEV.selectedLineInConsole=a.parentElement)}for(var n=0,r=e.allElem.length;r>n;n++)STYLEV.methods.removeClass(e.allElem[n],"stylev-target-selected");var l=document.querySelector('[data-stylevid="'+event.currentTarget.dataset.stylevid+'"]');STYLEV.methods.addClass(l,"stylev-target-selected");var i=s[0].offsetTop;e.consoleTriggerWrapper.scrollTop=i},controlFloat:function(e,t){return Math.round(parseFloat(e)*Math.pow(10,t))/Math.pow(10,t)},destroy:function(){var e=this;e.removeAllAttrAndEvents(),e.removeConsole(),e.isObserving&&e.ovservationManager.disconnectObserve(),e.removeStylesheet(),STYLEV.isChromeExtension&&setTimeout(function(){chrome.runtime.sendMessage({name:"validatedStatus2False"})},0)},setStyleDataOfWidthHeight:function(){for(var e=document.styleSheets,t=0,o=e.length;o>t;t++)for(var r=e[t],s=r.cssRules,a=0,n=s.length;n>a;a++){var l=s[a];if(!l.media)for(var i=l.selectorText,d=l.style,c=d.width?d.width:"auto",E=d.height?d.height:"auto",m=d.getPropertyPriority("width"),g=d.getPropertyPriority("height"),p=SPECIFICITY.calculate(i),y=0,h=p.length;h>y;y++)for(var u=p[y],v=u.selector,T=parseInt(u.specificity.replace(/,/g,""),10),S=document.querySelectorAll(v),f=0,L=S.length;L>f;f++){var C=S[f],O=C.style,A=O.width?O.width:"auto",R=O.height?O.height:"auto",D=A?1e3:T,V=R?1e3:T,w=O.getPropertyPriority("width"),_=O.getPropertyPriority("height");void 0===C.dataset.stylevwidthspecificity&&(C.dataset.stylevwidthspecificity=D),void 0===C.dataset.stylevheightspecificity&&(C.dataset.stylevheightspecificity=V),void 0===C.dataset.stylevwidthimportant&&(C.dataset.stylevwidthimportant=w),void 0===C.dataset.stylevheightimportant&&(C.dataset.stylevheightimportant=_),c&&!A&&D>=parseInt(C.dataset.stylevwidthspecificity,10)&&m.length>=C.dataset.stylevwidthimportant.length&&(C.dataset.stylevwidth=c,C.dataset.stylevwidthspecificity=D,C.dataset.stylevwidthimportant=m),c&&m&&!w&&D>=parseInt(C.dataset.stylevwidthspecificity,10)&&m.length>=C.dataset.stylevwidthimportant.length&&(C.dataset.stylevwidth=c,C.dataset.stylevwidthspecificity=D,C.dataset.stylevwidthimportant=m),c&&!m&&A&&D>=parseInt(C.dataset.stylevwidthspecificity,10)&&w.length>=C.dataset.stylevwidthimportant.length&&(C.dataset.stylevwidth=A,C.dataset.stylevwidthspecificity=D,C.dataset.stylevwidthimportant=w),A&&w&&D>=parseInt(C.dataset.stylevwidthspecificity,10)&&w.length>=C.dataset.stylevwidthimportant.length&&(C.dataset.stylevwidth=A,C.dataset.stylevwidthspecificity=D,C.dataset.stylevwidthimportant=w),E&&!R&&V>=parseInt(C.dataset.stylevheightspecificity,10)&&w.length>=C.dataset.stylevheightimportant.length&&(C.dataset.stylevheight=E,C.dataset.stylevheightspecificity=V,C.dataset.stylevheightimportant=_),E&&g&&R&&V>=parseInt(C.dataset.stylevheightspecificity,10)&&w.length>=C.dataset.stylevheightimportant.length&&(C.dataset.stylevheight=E,C.dataset.stylevheightspecificity=V,C.dataset.stylevheightimportant=_),E&&!g&&R&&V>=parseInt(C.dataset.stylevheightspecificity,10)&&w.length>=C.dataset.stylevheightimportant.length&&(C.dataset.stylevheight=R,C.dataset.stylevheightspecificity=V,C.dataset.stylevheightimportant=_),R&&_&&V>=parseInt(C.dataset.stylevheightspecificity,10)&&w.length>=C.dataset.stylevheightimportant.length&&(C.dataset.stylevheight=R,C.dataset.stylevheightspecificity=V,C.dataset.stylevheightimportant=_)}}},calculateWidthHeightValue:function(e,t,o){var r;STYLEV.RULES_EDITOR;return"width"===t||"height"===t?("width"===t&&(r="auto"===e.dataset.stylevwidth?e.dataset.stylevwidth:getComputedStyle(e,"")[t]),"height"===t&&(r="auto"===e.dataset.stylevheight?e.dataset.stylevheight:getComputedStyle(e,"")[t])):r=getComputedStyle(e,"")[t],r}},STYLEV.methods={smoothScroll:{getOffsetTop:function(e){return"html"===e.nodeName.toLowerCase()?-window.pageYOffset:e.getBoundingClientRect().top+window.pageYOffset},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},getTargetPos:function(e,t,o,r){var s=this;return o>r?t:e+(t-e)*s.easeInOutCubic(o/r)},execute:function(e,t){var o=this,t=t||500,r=window.pageYOffset,s=o.getOffsetTop(e)-100,a=Date.now(),n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,15)},l=function(){var e=Date.now()-a;window.scroll(0,o.getTargetPos(r,s,e,t)),t>=e&&n(l)};l()}},addClass:function(e,t){var o=e.dataset.stylevclass,r=!1,s="";return void 0===o?e.dataset.stylevclass="":r=-1!==o.indexOf(t),r||(s=(o?" ":"")+t,e.dataset.stylevclass+=s),!1},removeClass:function(e,t){e.dataset.stylevclass&&(e.dataset.stylevclass=e.dataset.stylevclass.replace(t,""))}},STYLEV.chromeExtension={execute:function(){console.info("Style Validator with Chrome Extension"),setTimeout(function(){chrome.runtime.sendMessage({name:"execute"})},0)},RESOURCE_ROOT:null,bind2DevToolsInspect:{execute:function(e){var t=this;return 0===STYLEV.VALIDATOR.messageArray.length?!1:(t.inspectOfConsoleAPI=e,t.setParameters(),t.bindEvents(),!1)},setParameters:function(){var e=this;e.consoleWrapper=document.querySelector("#stylev-console-wrapper"),e.consoleWrapperShadowRoot=e.consoleWrapper.shadowRoot,e.consoleList=e.consoleWrapperShadowRoot.querySelector("#stylev-console-list"),e.triggers=e.consoleList.querySelectorAll("a[data-stylevconsoleid]"),e.targets=document.querySelector("body").querySelectorAll('[data-stylevclass*="stylev-target-error"], [data-stylevclass*="stylev-target-warning"]')},bindEvents:function(){for(var e=this,t=0,o=e.triggers.length;o>t;t++)e.triggers[t].addEventListener("click",e.inspectFromConsole,!1);for(var r=0,o=e.targets.length;o>r;r++)e.targets[r].addEventListener("click",e.inspectFromElements,!1)},inspectFromConsole:function(){event.preventDefault();var e=STYLEV.chromeExtension.bind2DevToolsInspect,t=event.currentTarget,o=t.querySelector("span").textContent,r=document.querySelector('[data-stylevid="'+o+'"]');try{e.inspectOfConsoleAPI(r)}catch(s){console.error(s)}},inspectFromElements:function(){event.preventDefault(),event.stopPropagation();var e=STYLEV.chromeExtension.bind2DevToolsInspect,t=event.target;try{e.inspectOfConsoleAPI(t)}catch(o){console.error(o)}}}},STYLEV.isChromeExtension&&(STYLEV.VALIDATOR.updateOptions().then(function(){STYLEV.options.ENABLE_AUTO_EXECUTION?STYLEV.chromeExtension.execute():STYLEV.isValidated?(STYLEV.VALIDATOR.destroy(),STYLEV.isValidated=!1):STYLEV.isValidated=!0,STYLEV.isUsingExtension=!0,STYLEV.chromeExtension.RESOURCE_ROOT=chrome.runtime.getURL("")}),chrome.storage.onChanged.addListener(function(e,t){if("sync"===t&&e.options){var o=document.querySelector("html");e.options.newValue.enableAnimation?void 0!==o.dataset.stylevclass?o.dataset.stylevclass+=" stylev-animation":o.dataset.stylevclass="stylev-animation":-1!==o.dataset.stylevclass.indexOf(" stylev-animation")&&(o.dataset.stylevclass-=" stylev-animation")}})),STYLEV.isBookmarklet&&STYLEV.isFisrtExecution?(console.info("Style Validator with Bookmarklet."),STYLEV.VALIDATOR.execute(STYLEV.VALIDATOR.insertStylesheet)):STYLEV.isBookmarklet&&STYLEV.isReExecution&&(console.info("Style Validator with Bookmarklet (ReExecution)"),STYLEV.VALIDATOR.validate());